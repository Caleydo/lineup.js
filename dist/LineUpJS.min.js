/*! LineUpJS - v0.2.0 - 2015-12-28
* https://github.com/sgratzl/lineup.js
* Copyright (c) 2015 ; Licensed BSD */

//based on https://github.com/ForbesLindesay/umd but with a custom list of external dependencies
;(function (f) {
  // CommonJS
  if (typeof exports === "object" && typeof module !== "undefined") {
    module.exports = f(require)(1);

    // RequireJS
  } else if (typeof define === "function" && define.amd) {
    var deps = ['d3'];
    define(deps, function () {
      var resolved_deps = arguments;
      return f(function(name) { return resolved_deps[deps.indexOf(name)]; })(1);
    });
    // <script>
  } else {
    var g;
    if (typeof window !== "undefined") {
      g = window;
    } else if (typeof global !== "undefined") {
      g = global;
    } else if (typeof self !== "undefined") {
      g = self;
    } else {
      // works providing we're not in "use strict";
      // needed for Java 8 Nashorn
      // seee https://github.com/facebook/react/issues/3037
      g = this;
    }
    g.LineUpJS = f(function(name) { return g[name]; })(1);
  }

})(function (require) {
  return !function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};define(["require","exports","./model","./provider","./renderer","./ui","./utils","./ui_dialogs","d3"],function(a,b,c,e,f,g,h,i,j){function k(a){var b=j.scale.category10().range().slice();return a.forEach(function(a){switch(a.type){case"number":a.color=b.shift()}}),a}function l(a,b){return new e.LocalDataProvider(a,b)}function m(a,b,c){return void 0===c&&(c={}),new n(b,a,c)}b.model=c,b.provider=e,b.renderer=f,b.ui=g,b.utils=h,b.ui_dialogs=i;var n=function(a){function c(c,d,e){var f=this;void 0===e&&(e={}),a.call(this),this.data=d,this.config={idPrefix:Math.random().toString(36).slice(-8).substr(0,3),numberformat:j.format(".3n"),htmlLayout:{headerHeight:20,headerOffset:1,buttonTopPadding:10,labelLeftPadding:5},renderingOptions:{stacked:!1,animation:!0,visibleRowsOnly:!0},svgLayout:{rowHeight:17,rowPadding:.2,rowBarPadding:1,visibleRowsOnly:!0,backupScrollRows:4,animationDuration:1e3,freezeRows:0,rowActions:[]},manipulative:!0,interaction:{tooltips:!0,multiselect:function(){return!1},rangeselect:function(){return!1}},pool:!1},this.body=null,this.header=null,this.pools=[],this.contentScroller=null,this.$container=c instanceof j.selection?c:j.select(c),this.$container=this.$container.append("div").classed("lu",!0),b.utils.merge(this.config,e),this.data.on("selectionChanged.main",this.triggerSelection.bind(this)),this.header=new g.HeaderRenderer(d,this.node,{manipulative:this.config.manipulative,headerHeight:this.config.htmlLayout.headerHeight}),this.body=new g.BodyRenderer(d,this.node,this.slice.bind(this),{rowHeight:this.config.svgLayout.rowHeight,rowPadding:this.config.svgLayout.rowPadding,rowBarPadding:this.config.svgLayout.rowBarPadding,animationDuration:this.config.svgLayout.animationDuration,animation:this.config.renderingOptions.animation,stacked:this.config.renderingOptions.stacked,actions:this.config.svgLayout.rowActions,idPrefix:this.config.idPrefix}),this.forward(this.body,"hoverChanged"),this.config.pool&&this.config.manipulative&&this.addPool(new g.PoolRenderer(d,this.node,this.config)),this.config.svgLayout.visibleRowsOnly&&(this.contentScroller=new h.ContentScroller(this.$container.node(),this.body.node,{backupRows:this.config.svgLayout.backupScrollRows,rowHeight:this.config.svgLayout.rowHeight,topShift:this.config.htmlLayout.headerHeight}),this.contentScroller.on("scroll",function(a,b){f.header.$node.style("transform","translate(0px,"+a+"px)"),f.config.svgLayout.freezeRows>0&&(f.header.updateFreeze(f.config.svgLayout.freezeRows,b),f.body.updateFreeze(f.config.svgLayout.freezeRows,b))}),this.contentScroller.on("redraw",this.body.update.bind(this.body)))}return d(c,a),c.prototype.createEventList=function(){return a.prototype.createEventList.call(this).concat(["hoverChanged","selectionChanged","multiSelectionChanged"])},c.prototype.addPool=function(a,b){return void 0===b&&(b=this.config),a instanceof g.PoolRenderer?this.pools.push(a):this.pools.push(new g.PoolRenderer(this.data,a,b)),this.pools[this.pools.length-1]},Object.defineProperty(c.prototype,"node",{get:function(){return this.$container.node()},enumerable:!0,configurable:!0}),c.prototype.slice=function(a,b,c){return this.contentScroller?this.contentScroller.select(a,b,c):{from:a,to:b}},c.prototype.destroy=function(){this.pools.forEach(function(a){return a.remove()}),this.$container.remove(),this.contentScroller&&this.contentScroller.destroy()},c.prototype.sortBy=function(a,b){void 0===b&&(b=!1);var c=this.data.find(a);return c&&c.sortByMe(b),null!==c},c.prototype.dump=function(){var a=this.data.dump();return a},c.prototype.changeDataStorage=function(a,b){this.data&&this.data.on("selectionChanged.main",null),this.data=a,b&&this.data.restore(b),this.data.on("selectionChanged.main",this.triggerSelection.bind(this)),this.header.changeDataStorage(a),this.body.changeDataStorage(a),this.pools.forEach(function(b){return b.changeDataStorage(a)}),this.update()},c.prototype.triggerSelection=function(a){this.fire("selectionChanged",a.length>0?a[0]:-1),this.fire("multiSelectionChanged",a)},c.prototype.restore=function(a){this.changeDataStorage(this.data,a)},c.prototype.update=function(){this.header.update(),this.body.update(),this.pools.forEach(function(a){return a.update()})},c.prototype.changeRenderingOption=function(a,b){this.config.renderingOptions[a]=b,("animation"===a||"stacked"===a)&&(this.body.setOption(a,b),this.body.update())},c}(h.AEventDispatcher);b.LineUp=n,b.deriveColors=k,b.createLocalStorage=l,b.create=m})},{}]},{},[1]);