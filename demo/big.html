<!DOCTYPE html>
<html>

<head lang="en">
  <meta charset="UTF-8">
  <title>LineUp Taggle Test</title>

  <link href="./LineUpJS.css" rel="stylesheet">
  <link href="./demo.css" rel="stylesheet">
</head>

<body>
  <script src="./LineUpJS.js"></script>

  <script>
    window.onload = function () {
      const arr = [];
      const cats = ['c1', 'c2', 'c3'];
      const cat2 = ['a1', 'a2'];
      for (let i = 0; i < 1000000; ++i) {
        arr.push({
          a: Math.random() * 10,
          d: 'Row ' + i,
          cat: cats[Math.floor(Math.random() * cats.length)],
          cat2: cat2[Math.floor(Math.random() * cat2.length)],
        })
      }
      console.log('generated');
      const desc = [{
          label: 'D',
          type: 'string',
          column: 'd'
        },
        {
          label: 'A',
          type: 'number',
          column: 'a',
          'domain': [0, 10]
        },
        {
          label: 'Cat',
          type: 'categorical',
          column: 'cat',
          categories: ['c1', 'c2', 'c3']
        },
        {
          label: 'Cat Label',
          type: 'categorical',
          column: 'cat2',
          categories: [{
            name: 'a1',
            label: 'A1',
            color: 'green'
          }, {
            name: 'a2',
            label: 'A2',
            color: 'blue'
          }]
        }
      ];

      const p = new LineUpJS.LocalDataProvider(arr, desc, {
        grouping: true,
        // taskExecutor: 'direct',
        taskExecutor: 'scheduled'
      });
      p.deriveDefault();

      const instance = new LineUpJS.Taggle(document.body, p, {
        animated: false
      });
      instance.update();
    };

  </script>

</body>

</html>
