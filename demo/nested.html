<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>LineUp alpha</title>

  <link href="../node_modules/font-awesome/css/font-awesome.css" rel="stylesheet" type='text/css'>
  <link href="../../node_modules/font-awesome/css/font-awesome.css" rel="stylesheet" type='text/css'>

  <link href="../build/style.css" rel="stylesheet">

  <style>
    .lu {
      clear: both;
      position: absolute;
      top: 1px;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 0;
      overflow: auto;
    }

  </style>
</head>
<body>
<script src="../node_modules/d3/d3.js"></script>
<script src="../../node_modules/d3/d3.js"></script>
<script src="../build/LineUpJS.js"></script>

<script>
  (function () {
    const parser = d3.time.format('%d.%m.%Y').parse;
    const arr = [
      {a: 10, b: 20, c: 30, d: 'Row1'},
      {a: 100, b: 100, c: 50, d: 'Row2'},
      {a: 2, b: 7, c: 100, d: 'Row3'}
    ];
    const desc = [
      {label: 'D', type: 'string', column: 'd', cssClass: 'orange'},
      {label: 'A', type: 'number', column: 'a', 'domain': [0, 100], color: 'red'},
      {label: 'B', type: 'number', column: 'b', 'domain': [0, 100], color: 'blue'},
      {label: 'C', type: 'number', column: 'c', 'domain': [0, 100], color: 'green'}
    ];

    const p = LineUpJS.createLocalStorage(arr, desc);
    {
      const r = p.pushRanking();
      r.insert(p.create(LineUpJS.model.createSelectionDesc()), 0);
      r.push(p.create(desc[0]));

      r.push((function () {
        const rstack = p.create(LineUpJS.model.createMaxDesc('Max'));
        rstack.push(p.create(desc[1]));
        rstack.push(p.create(desc[2]));
        rstack.push(p.create(desc[3]));
        return rstack;
      })());
    }

    const instance = LineUpJS.create(p, document.body, {
      body: {
        renderer: 'engine'
      },
      header: {
        summary: true,
      }
    });
    instance.update();
  })();
</script>

</body>
</html>
