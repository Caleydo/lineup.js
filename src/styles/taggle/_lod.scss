@import '~lineupengine/src/styles/import_once';
@import '../vars';

@include exports('lineupjs/taggle/lod') {
  .#{$lu_css_prefix}-low {
    overflow: hidden;
  }

  .#{$engine_css_prefix}-tr.#{$lu_css_prefix}-low[data-agg=detail]:not(:hover) {
    &[data-meta~=first] {
      /* change rendering of the first row for a group to show the collapse arrow of `[data-renderer=aggregate]` */
      z-index: 11; // 11 overrules the `z-index: 10;` of `.lu-selected` in _row.scss
      position: relative;
    }

    .#{$lu_css_prefix}-hover-only,
    .#{$lu_css_prefix}-selection-only,
    > [data-renderer] {
      visibility: hidden;
    }

    > .#{$lu_css_prefix}-renderer-heatmap,
    > .#{$lu_css_prefix}-renderer-catheatmap {
      visibility: visible !important;
    }

    > .#{$lu_css_prefix}-renderer-aggregate {
      visibility: visible !important;
      overflow: visible !important;

      &::before {
        position: absolute;
        left: 0;
        right: 0;
      }
    }

    > .#{$lu_css_prefix}-renderer-group {
      visibility: visible !important;
      overflow: visible !important;

      > * {
        position: absolute;
        left: 0;
        right: 0;
      }
    }

    > .#{$lu_css_prefix}-renderer-number {
      visibility: visible !important;

      > div {
        top: 0;
        bottom: 0;
      }
    }

    > .#{$lu_css_prefix}-renderer-boxplot {
      visibility: visible !important;

      > .#{$lu_css_prefix}-boxplot-whisker {
        height: 100%;

        &::before,
        > div:last-child,
        > div:first-child::after {
          display: none;
        }

        > .#{$lu_css_prefix}-boxplot-box {
          top: 0;
          height: 100%;
          background: #c1c1c1;
        }
      }
    }

    > .#{$lu_css_prefix}-renderer-upset {
      visibility: visible !important;
      align-items: stretch;

      > .#{$lu_css_prefix}-upset-line {
        display: none;
      }

      > .#{$lu_css_prefix}-upset-dot {
        border-radius: 0;
        height: 100%;

        &:not(.enabled) {
          visibility: hidden;
        }
      }
    }

    > .#{$lu_css_prefix}-renderer-categorical,
    > .#{$lu_css_prefix}-renderer-brightness {
      visibility: visible !important;

      > div:first-of-type {
        margin-right: 0;
        flex: 1 1 auto;
      }

      > div:last-of-type {
        display: none;
      }
    }

    > .#{$lu_css_prefix}-renderer-dot {
      visibility: visible !important;

      > div {
        top: 0 !important;
        height: 100%;
        margin-top: 0;
      }
    }
  }
}
